    <style>
        /* =========================================
           KUANDA GAMES - DESIGN UNO CARD
           ========================================= */
        :root {
            --bg-main: #0c0c0e;
            --bg-card: #141414;
            --accent: #0078F2;
            --text-white: #ffffff;
            --text-gray: #a1a1aa;
            --radius-uno: 18px; 
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        /* Force Dark Mode Específico desta página */
        body {
            background-color: var(--bg-main);
            color: var(--text-white);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        /* 1. HERO BANNER CINEMÁTICO */
        .hero-carousel {
            width: 100%;
            height: 550px;
            position: relative;
            overflow: hidden;
            margin-bottom: 50px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        .hero-slide {
            width: 100%; height: 100%; position: absolute; top:0; left:0;
            opacity: 0; transition: opacity 1s ease;
        }
        .hero-slide.active { opacity: 1; z-index: 1; }

        .hero-slide img {
            width: 100%; height: 100%; object-fit: cover;
            mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
            transition: transform 8s ease;
        }
        .hero-slide.active img { transform: scale(1.05); }

        .hero-content {
            position: absolute; bottom: 80px; left: 60px; max-width: 600px; z-index: 2;
        }
        
        .hero-tag {
            background: rgba(255,255,255,0.1); backdrop-filter: blur(10px);
            padding: 6px 12px; border-radius: 6px; font-size: 0.8rem; font-weight: 700;
            text-transform: uppercase; margin-bottom: 15px; display: inline-block; border: 1px solid rgba(255,255,255,0.2);
        }

        .hero-title { 
            font-size: 3.5rem; font-weight: 900; margin-bottom: 10px; line-height: 1;
            text-shadow: 0 4px 30px rgba(0,0,0,0.8); letter-spacing: -1px;
        }
        
        .hero-desc { 
            font-size: 1.1rem; color: #ccc; margin-bottom: 30px; line-height: 1.6; 
            text-shadow: 0 2px 10px rgba(0,0,0,0.8);
        }

        .btn-hero {
            background: white; color: black; border: none; padding: 14px 35px;
            font-weight: 800; border-radius: 4px; cursor: pointer; text-transform: uppercase;
            transition: 0.3s; text-decoration: none; display: inline-flex; align-items: center; gap: 10px;
        }
        .btn-hero:hover { background: var(--accent); color: white; transform: translateY(-3px); }

        /* Indicadores */
        .hero-dots {
            position: absolute; bottom: 30px; right: 40px; z-index: 3; display: flex; gap: 8px;
        }
        .dot { width: 40px; height: 4px; background: rgba(255,255,255,0.3); cursor: pointer; transition: 0.3s; }
        .dot.active { background: white; }

        /* 2. LAYOUT GRID ASSIMÉTRICO */
        .store-layout {
            display: grid; grid-template-columns: 240px 1fr; gap: 40px;
            max-width: 1400px; margin: 0 auto; padding: 0 20px 60px;
        }

        /* SIDEBAR (Sticky) */
        .store-sidebar { position: sticky; top: 100px; height: fit-content; }
        .sidebar-section { margin-bottom: 40px; }
        .sidebar-title { 
            font-size: 0.7rem; text-transform: uppercase; color: #555; 
            font-weight: 800; margin-bottom: 15px; letter-spacing: 2px; 
        }
        
        .filter-link { 
            display: flex; align-items: center; padding: 10px 0; color: #888; 
            text-decoration: none; transition: 0.2s; font-size: 0.95rem; font-weight: 600;
        }
        .filter-link:hover, .filter-link.active { color: white; padding-left: 5px; }
        .filter-link i { width: 30px; font-size: 1.1rem; }
        .filter-link.active i { color: var(--accent); }

        /* BARRA DE CONTROLE */
        .controls-bar {
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;
            background: #131315; padding: 12px 20px; border-radius: 12px; border: 1px solid #27272a;
        }
        .search-group { display: flex; align-items: center; gap: 15px; width: 100%; }
        .search-input { 
            background: transparent; border: none; color: white; outline: none; 
            width: 100%; font-size: 0.95rem; font-weight: 500; 
        }
        .sort-select { 
            background: #000; color: white; border: 1px solid #333; 
            padding: 8px 15px; border-radius: 6px; cursor: pointer; outline: none;
        }

        /* 3. GRID DE JOGOS (UNO STYLE) */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
        }

        /* O CARD "UNO" */
        .game-card {
            position: relative;
            background: var(--bg-card);
            border-radius: var(--radius-uno);
            aspect-ratio: 3 / 4.2; /* Formato Carta Vertical */
            overflow: hidden;
            border: 1px solid #222;
            text-decoration: none;
            display: flex; flex-direction: column;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* Moldura Interna (Detalhe Premium) */
        .game-card::after {
            content: ""; position: absolute;
            top: 10px; left: 10px; right: 10px; bottom: 10px;
            border: 1px solid rgba(255,255,255,0.08); border-radius: 16px;
            pointer-events: none; z-index: 2; transition: 0.3s;
        }

        .game-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 50px rgba(0, 120, 242, 0.2); /* Glow Azul */
            border-color: var(--accent);
            z-index: 5;
        }
        .game-card:hover::after { border-color: rgba(255,255,255,0.3); }

        /* Imagem */
        .card-image { width: 100%; height: 100%; position: relative; z-index: 1; background: #000; }
        .card-image img { 
            width: 100%; height: 100%; object-fit: cover; 
            transition: transform 0.5s ease; opacity: 0.9;
        }
        .game-card:hover .card-image img { transform: scale(1.05); opacity: 1; }

        /* Badge Plataforma */
        .plat-overlay {
            position: absolute; top: 20px; left: 20px; z-index: 3;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(8px);
            padding: 4px 10px; border-radius: 6px; border: 1px solid rgba(255,255,255,0.1);
            display: flex; align-items: center; gap: 6px;
        }
        .plat-overlay i { font-size: 0.7rem; color: #ccc; }
        .plat-overlay span { font-size: 0.65rem; font-weight: 800; color: #fff; letter-spacing: 0.5px; }

        /* Detalhes (Fundo Gradiente) */
        .card-details {
            position: absolute; bottom: 0; left: 0; width: 100%;
            padding: 25px 20px 20px; z-index: 3;
            background: linear-gradient(to top, rgba(0,0,0,0.95) 20%, transparent 100%);
            display: flex; flex-direction: column; gap: 2px;
        }

        .game-name { 
            font-size: 1.1rem; font-weight: 800; color: white; line-height: 1.1; 
            text-shadow: 0 2px 4px black; margin-bottom: 4px;
        }
        .game-price { font-size: 0.9rem; font-weight: 700; color: var(--accent); letter-spacing: 0.5px; }

        /* RESPONSIVO */
        @media (max-width: 991px) {
            .store-layout { grid-template-columns: 1fr; padding: 0 15px; }
            .store-sidebar { display: none; }
            .hero-carousel { height: 350px; }
            .hero-title { font-size: 2rem; }
            .hero-content { left: 20px; bottom: 40px; }
            
            /* Matriz 3x3 no Mobile */
            .games-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }
            .game-card { border-radius: 12px; box-shadow: none; border: none; }
            .game-card::after { display: none; } /* Remove borda interna no mobile */
            .card-details { padding: 10px; background: linear-gradient(to top, black 50%, transparent); }
            .game-name { font-size: 0.7rem; line-height: 1.2; height: 2.4em; overflow: hidden; }
            .game-price { font-size: 0.75rem; }
            .plat-overlay { padding: 2px 5px; top: 6px; left: 6px; }
            .plat-overlay i { font-size: 0.6rem; } 
            .plat-overlay span { display: none; } /* Só ícone no mobile */
        }
    </style>


<!-- HERO BANNER -->
<div class="hero-carousel">
    
    <!-- Slide 1 -->
    <div class="hero-slide active">
        <img src="https://www.rockstargames.com/VI/_next/image?url=%2FVI%2F_next%2Fstatic%2Fmedia%2FJason_and_Lucia_01_With_Logos_landscape.8596f77a.jpg&w=1920&q=75">
        <div class="hero-content">
            <div class="hero-tag">Em Destaque</div>
            <h1 class="hero-title">Grand Theft Auto VI</h1>
            <p class="hero-desc d-none d-md-block">A próxima evolução da Rockstar Games.</p>
            <a href="#" class="btn-hero">Ver Detalhes</a>
        </div>
    </div>
    
    <!-- Slide 2 -->
    <div class="hero-slide">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgW915VEYCc9JE3AY1oZWCJXnKUB0kdUxiijgND78RC486SF202tNxUamJBXdt6ScR_A6E5uGVBqoKpKUkfYoEzGoxKtXTQsUXZ35koWuNfbhOYMYCA61IWITb1sZKhocRRjkcda9wO2B1GVUf5v7E2qw-j5sLyZKRbUyIeYrlbFW7eF65ObQjjgo-7R4YK/s3840/call-of-duty-modern-warfare-3-3840x2160-16206.jpeg">
        <div class="hero-content">
            <div class="hero-tag">Exclusivo</div>
            <h1 class="hero-title">Modern Warfare III</h1>
            <p class="hero-desc d-none d-md-block">Seja maior. Juntos.</p>
            <a href="#" class="btn-hero">Comprar Agora</a>
        </div>
    </div>

    <!-- Dots -->
    <div class="hero-dots">
        <div class="dot active" onclick="setSlide(0)"></div>
        <div class="dot" onclick="setSlide(1)"></div>
    </div>
</div>

<div class="store-layout">
    
    <!-- SIDEBAR -->
    <aside class="store-sidebar">
        <div class="sidebar-section">
            <div class="sidebar-title">Menu Principal</div>
            <a href="/games" class="filter-link active"><i class="fas fa-home"></i> Loja</a>
            <a href="/games?ordenar=novos" class="filter-link"><i class="fas fa-clock"></i> Lançamentos</a>
            <a href="/games?ordenar=preco_asc" class="filter-link"><i class="fas fa-percent"></i> Ofertas</a>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-title">Plataformas</div>
            <a href="/games?busca=PC" class="filter-link"><i class="fas fa-desktop"></i> PC Windows</a>
            <a href="/games?busca=PS5" class="filter-link"><i class="fab fa-playstation"></i> PlayStation 5</a>
            <a href="/games?busca=XBOX" class="filter-link"><i class="fab fa-xbox"></i> Xbox Series</a>
        </div>
        
        <div class="sidebar-section">
            <div class="sidebar-title">Gêneros</div>
            <% generos.forEach(gen => { %>
                <a href="/games?genero=<%= gen.genero %>" class="filter-link">
                    <i class="fas fa-circle" style="font-size: 0.4rem; opacity: 0.5;"></i> <%= gen.genero %>
                </a>
            <% }) %>
        </div>
    </aside>

    <!-- CONTEÚDO -->
    <main>
        <!-- Filtros -->
        <div class="controls-bar">
            <form action="/games" method="GET" class="search-group">
                <i class="fas fa-search" style="color: #555;"></i>
                <input type="text" name="busca" class="search-input" placeholder="Buscar jogo..." value="<%= filtros.busca || '' %>">
            </form>
            <form action="/games" method="GET">
                <select name="ordenar" class="sort-select" onchange="this.form.submit()">
                    <option value="">Relevância</option>
                    <option value="novos" <%= filtros.ordenar === 'novos' ? 'selected' : '' %>>Novos</option>
                    <option value="preco_asc" <%= filtros.ordenar === 'preco_asc' ? 'selected' : '' %>>Preço</option>
                </select>
            </form>
        </div>

        <!-- GRID DE JOGOS (AQUI ESTÁ O QUE VOCÊ PEDIU) -->
        <div class="games-grid">
            <% jogos.forEach(jogo => { 
                const isFree = Number(jogo.preco) === 0;
            %>
                <!-- Link direto para detalhes -->
                <a href="/game/<%= jogo.id %>" class="game-card">
                    
                    <!-- Badge Plataforma -->
                    <div class="plat-overlay">
                        <% if(jogo.plataforma == 'STEAM') { %><i class="fab fa-steam"></i><% } 
                           else if(jogo.plataforma == 'XBOX') { %><i class="fab fa-xbox"></i><% } 
                           else if(jogo.plataforma == 'PSN') { %><i class="fab fa-playstation"></i><% } 
                           else { %><i class="fas fa-desktop"></i><% } %>
                        <span><%= jogo.plataforma || 'PC' %></span>
                    </div>

                    <!-- Imagem -->
                    <div class="card-image">
                        <% if (jogo.capa) { %>
                            <img src="/uploads/games/<%= jogo.capa %>" alt="<%= jogo.titulo %>" loading="lazy">
                        <% } else { %>
                            <div style="width:100%; height:100%; background:#111; display:flex; align-items:center; justify-content:center; color:#333;">
                                <i class="fas fa-gamepad fa-2x"></i>
                            </div>
                        <% } %>
                    </div>

                    <!-- Detalhes -->
                    <div class="card-details">
                        <div class="game-name"><%= jogo.titulo %></div>
                        <div class="game-price" style="color: <%= isFree ? '#10B981' : 'var(--accent)' %>">
                            <%= isFree ? 'GRÁTIS' : Number(jogo.preco).toLocaleString('pt-AO') + ' Kz' %>
                        </div>
                    </div>
                </a>
            <% }) %>
        </div>

    </main>
</div>

<script>
    // Carrossel Simples
    let current = 0;
    const slides = document.querySelectorAll('.hero-slide');
    const dots = document.querySelectorAll('.dot');
    
    function setSlide(n) {
        slides.forEach(s => s.classList.remove('active'));
        dots.forEach(d => d.classList.remove('active'));
        current = n >= slides.length ? 0 : n;
        slides[current].classList.add('active');
        dots[current].classList.add('active');
    }
    
    setInterval(() => setSlide(current + 1), 6000);
</script>

